<html>

<head>
    <style>
        body {
            margin: 0;
        }
    </style>
    <script src="https://d3js.org/d3.v4.min.js"></script>
</head>


<body>

    <svg id="overlay"></svg>

    <script>
        var svg = d3.select("svg#overlay");

        svg.attr('width', window.innerWidth);
        svg.attr('height', window.innerHeight);

        var color = d3.scaleOrdinal(d3.schemeCategory20);

        var g = svg.append('g');

        var pointer = g.append('circle')
            .attr("cx", 5)
            .attr("cy", 5)
            .attr("r", 5)
            .attr("fill", function (d) {
                return color(Math.random());
            });


        var host = 'localhost';

        var ws = new WebSocket('ws://' + host + ':8080');
        ws.onmessage = function (event) {
            event = JSON.parse(event.data);
            switch (event.type) {
                case 'point': 
                    pointer.attr("cx", event.x).attr("cy", event.y);
                    break;
            }
            console.log(event);

        };
    </script>
</body>

</html>